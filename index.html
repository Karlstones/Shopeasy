<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shopeasy - Boutique moderne</title>
<style>
  /* Reset minimal */
  * {
    box-sizing: border-box;
  }

  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    background: #f5f7fa;
    color: #333;
  }

  /* Navbar */
  header {
    background: #4f46e5;
    color: white;
    padding: 15px 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  header h1 {
    margin: 0;
    font-weight: 700;
    font-size: 1.8rem;
  }

  /* Filtre catégorie dans navbar */
  #category-select {
    padding: 8px 12px;
    border-radius: 5px;
    border: none;
    font-size: 1rem;
  }

  /* Conteneur principal */
  main {
    max-width: 1200px;
    margin: 30px auto;
    padding: 0 20px;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }

  /* Produits */
  .products {
    flex: 1 1 700px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 25px;
  }

  .product {
    background: white;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgb(79 70 229 / 0.15);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    padding: 15px;
    display: flex;
    flex-direction: column;
  }

  .product:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgb(79 70 229 / 0.3);
  }

  .product img {
    width: 100%;
    border-radius: 12px;
    object-fit: cover;
    height: 180px;
    margin-bottom: 15px;
  }

  .product h2 {
    font-size: 1.2rem;
    margin: 0 0 8px;
    flex-grow: 1;
  }

  .product p.price {
    font-weight: 700;
    font-size: 1.1rem;
    margin: 0 0 15px;
    color: #4f46e5;
  }

  .product button {
    background: #4f46e5;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .product button:hover {
    background: #4338ca;
  }

  /* Panier latéral */
  #cart {
    flex-basis: 350px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgb(0 0 0 / 0.1);
    height: fit-content;
    position: sticky;
    top: 30px;
  }

  #cart h2 {
    margin-top: 0;
    text-align: center;
    color: #4f46e5;
  }

  #cart-items {
    list-style: none;
    padding: 0;
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 20px;
  }

  #cart-items li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
  }

  .remove-btn {
    background: #dc2626;
    border: none;
    color: white;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .remove-btn:hover {
    background: #b91c1c;
  }

  #cart-total {
    font-weight: 700;
    font-size: 1.3rem;
    text-align: right;
  }

  /* Bouton payer */
  #pay-btn {
    width: 100%;
    padding: 14px;
    background: #f59e0b;
    border: none;
    border-radius: 10px;
    font-size: 1.1rem;
    font-weight: 700;
    color: #333;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  #pay-btn:hover {
    background: #d97706;
  }

  /* Formulaire contact */
  section#contact {
    max-width: 700px;
    margin: 50px auto 100px;
    background: white;
    padding: 30px 40px;
    border-radius: 15px;
    box-shadow: 0 12px 35px rgb(0 0 0 / 0.08);
  }

  section#contact h2 {
    text-align: center;
    margin-top: 0;
    color: #4f46e5;
  }

  form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 20px;
  }

  form input, form textarea {
    padding: 15px;
    font-size: 1rem;
    border-radius: 10px;
    border: 1px solid #ddd;
    resize: vertical;
    font-family: inherit;
  }

  form button[type="submit"] {
    background: #4f46e5;
    color: white;
    border: none;
    padding: 15px;
    font-weight: 700;
    border-radius: 12px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  form button[type="submit"]:hover {
    background: #4338ca;
  }

  /* Responsive */
  @media (max-width: 900px) {
    main {
      flex-direction: column;
      padding: 20px;
    }
    #cart {
      position: static;
      max-width: none;
      margin-top: 40px;
      height: auto;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Shopeasy</h1>
  <select id="category-select" onchange="filterProducts()">
    <option value="all">Toutes catégories</option>
    <option value="Vêtements">Vêtements</option>
    <option value="Accessoires">Accessoires</option>
    <option value="Chaussures">Chaussures</option>
    <option value="Électronique">Électronique</option>
  </select>
</header>

<main>
  <div class="products" id="products">
    <!-- Produits injectés ici -->
  </div>

  <aside id="cart">
    <h2>Panier</h2>
    <ul id="cart-items"></ul>
    <div id="cart-total">Total: 0 €</div>
    <button id="pay-btn" onclick="pay()">Payer maintenant</button>
  </aside>
</main>

<section id="contact">
  <h2>Contactez-nous</h2>
  <form onsubmit="submitContact(event)">
    <input type="text" placeholder="Votre nom" required />
    <input type="email" placeholder="Votre email" required />
    <textarea rows="5" placeholder="Votre message" required></textarea>
    <button type="submit">Envoyer</button>
  </form>
</section>

<script>
  const products = [
    { id: 1, name: "T-shirt Homme", price: 19.99, category: "Vêtements", img: "https://via.placeholder.com/300x180?text=T-shirt+Homme" },
    { id: 2, name: "Casquette Sport", price: 14.99, category: "Accessoires", img: "https://via.placeholder.com/300x180?text=Casquette+Sport" },
    { id: 3, name: "Sweat à capuche", price: 39.99, category: "Vêtements", img: "https://via.placeholder.com/300x180?text=Sweat+à+capuche" },
    { id: 4, name: "Baskets running", price: 59.99, category: "Chaussures", img: "https://via.placeholder.com/300x180?text=Baskets+running" },
    { id: 5, name: "Montre connectée", price: 99.99, category: "Électronique", img: "https://via.placeholder.com/300x180?text=Montre+connectée" },
    { id: 6, name: "Lunettes de soleil", price: 29.99, category: "Accessoires", img: "https://via.placeholder.com/300x180?text=Lunettes+de+soleil" },
    { id: 7, name: "Jean slim", price: 34.99, category: "Vêtements", img: "https://via.placeholder.com/300x180?text=Jean+slim" },
    { id: 8, name: "Sac à dos", price: 45.99, category: "Accessoires", img: "https://via.placeholder.com/300x180?text=Sac+à+dos" },
  ];

  let cart = [];

  function displayProducts(list = products) {
    const container = document.getElementById('products');
    container.innerHTML = '';
    list.forEach(prod => {
      const div = document.createElement('div');
      div.className = 'product';
      div.innerHTML = `
        <img src="${prod.img}" alt="${prod.name}" />
        <h2>${prod.name}</h2>
        <p class="price">${prod.price.toFixed(2)} €</p>
        <button onclick="addToCart(${prod.id})">Ajouter au panier</button>
      `;
      container.appendChild(div);
    });
  }

  function filterProducts() {
    const selected = document.getElementById('category-select').value;
    if (selected === 'all') {
      displayProducts(products);
    } else {
      const filtered = products.filter(p => p.category === selected);
      displayProducts(filtered);
    }
  }

  function addToCart(id) {
    const prod = products.find(p => p.id === id);
    const item = cart.find(i => i.id === id);
    if (item) {
      item.quantity++;
    } else {
      cart.push({...prod, quantity:1});
    }
    displayCart();
  }

  function removeFromCart(id) {
    cart = cart.filter(i => i.id !== id);
    displayCart();
  }

  function displayCart() {
    const ul = document.getElementById('cart-items');
    ul.innerHTML = '';
    let total = 0;
    cart.forEach(item => {
      total += item.price * item.quantity;
      const li = document.createElement('li');
      li.innerHTML = `
        ${item.name} x ${item.quantity} - ${(item.price * item.quantity).toFixed(2)} €
        <button class="remove-btn" onclick="removeFromCart(${item.id})">Supprimer</button>
      `;
      ul.appendChild(li);
    });
    document.getElementById('cart-total').textContent = `Total: ${total.toFixed(2)} €`;
  }

  function pay() {
    if(cart.length === 0) {
      alert("Votre panier est vide.");
      return;
    }
    alert("Paiement simulé effectué avec succès ! Merci pour votre achat.");
    cart = [];
    displayCart();
  }

  function submitContact(event) {
    event.preventDefault();
    alert("Merci pour votre message, nous vous répondrons rapidement !");
    event.target.reset();
  }

  // Initial display
  displayProducts();
  displayCart();
</script>

</body>
</html>
